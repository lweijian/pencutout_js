<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title>ImgCut</title>
    <link href="css/penCutout.css" rel="stylesheet"/>
    <script src="js/jquery-1.11.1.min.js"></script>
    <script src="js/classPenCutout.js"></script>
    <script type="text/javascript">
        $(function () {
            var _penCutout = new PenCutout();
            _penCutout.init({
                drawPanel: "drawPanel",
                imgSrc: "file/target.jpg",
                penColor: "#ff40ef",
                width: 1000,
                height: 1000
            });
            //事件
            $("#btnPoints").click(function () {
                console.log(JSON.stringify(_penCutout.canvas.pointList))
            })
            $("#btnCut").click(function () {
                _penCutout.createCutImg(function (imgSrcData, w, h) {
                    $("#imgCutShow").attr("src", imgSrcData).css({"display": "block", "width": w, "height": h});
                })
            })
            $("#btnDown").click(function () {
                _penCutout.downLoad();
            })
            $("#redo").click(function () {
                _penCutout.ReDo();
            })
        })

    </script>
</head>
<body>

<div class="tools">
    <input type="button" value="坐标" id="btnPoints">
    <input type="button" value="重做" id="redo"/>
    <input type="button" value="裁剪" id="btnCut"/>
    <input type="button" value="下载" id="btnDown"/>
    <img id="imgCut"/>
    <canvas id="canvas" />
</div>
<img id="imgCutShow">
</body>
</html>
